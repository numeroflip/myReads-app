{"version":3,"sources":["img/blizzard.png","sprite.svg","BooksAPI.js","Components/Header.js","Components/Title.js","Components/BookImg.js","Components/BookAuthor.js","Components/BookTitle.js","Components/Icon.js","Components/BookShelfChanger.js","Components/Book.js","Components/Books.js","Components/Section.js","Components/Sections.js","Components/Footer.js","Components/FormInput.js","Components/SearchSection.js","App.js","index.js"],"names":["module","exports","__webpack_require__","p","api","token","localStorage","Math","random","toString","substr","headers","Accept","Authorization","get","bookId","fetch","concat","then","res","json","data","book","getAll","books","update","shelf","id","method","Object","objectSpread","Content-Type","body","JSON","stringify","search","query","HeaderWrapper","styled","div","_templateObject","Title","h1","_templateObject2","Header","props","react_default","a","createElement","h2","Title_templateObject","BookImg","BookImg_templateObject","imgURL","BookAuthor","BookAuthor_templateObject","BookTitle_templateObject","IconWrapper","Icon_templateObject","_ref","padding","_ref2","border","css","Icon_templateObject2","Svg","svg","_templateObject3","_ref3","size","_ref4","Icon","name","href","sprite","iconName","Changer","BookShelfChanger_templateObject","Select","select","BookShelfChanger_templateObject2","BookShelfChanger","handleChange","asyncToGenerator","regenerator_default","mark","_callee","e","bookObj","wrap","_context","prev","next","target","value","handleShelfChange","BookAPI","sent","stop","this","_x","_x2","apply","arguments","onChange","disabled","BookTop","Book_templateObject","BookItem","li","Book_templateObject2","Book","Components_BookImg","BookTitle","title","Components_BookAuthor","author","Grid","ol","Books_templateObject","Books","className","Array","isArray","map","i","key","Bookshelf","Section_templateObject","Section","category","Components_Title","camelToNormal","str","index","length","toUpperCase","indexOfUpperCase","letter","replace","toLowerCase","Sections","shelves","clName","Footer_templateObject","input","FormInput_templateObject","SearchSection","state","syncStateAndInput","_this","setState","abrupt","_callee2","_context2","formattedBooks","getDataFromObj","Form","form","_this2","react_router_dom","to","FormInput","type","placeholder","Component","App","App_templateObject","bgImg","BooksApp","containsKeyValue","array","ans","forEach","obj","getDatafromObj","authors","imageLinks","thumbnail","moveInUI","currentShelf","findCurrentShelf","moveBookTo","addBookToShelf","filter","includes","removeBookFromShelf","shelfIndex","indexOfShelf","bookIndex","indexOf","newBooks","splice","push","thisSelf","currShelf","console","log","assertThisInitialized","syncData","BooksAPI","filteredData","isNewShelf","react_router","exact","path","render","getData","style","marginBottom","SearchSection_SearchSection","justifySelf","Footer","React","ReactDOM","src_App","document","getElementById"],"mappings":"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","file":"static/js/main.b57dfb2e.chunk.js","sourcesContent":["module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABkAAAAZCAMAAADzN3VRAAAAJ1BMVEX+/Pv8+vf59/T8+vj7+fb6+Pb9/Pz9/Pv8/Pn8+/j8+/n////9/PpG/iirAAAAhElEQVR42oXQSxICIQxF0aiNfG72v14blDaSWExOMXuXSK1HuleOxHgN6EjRXB4RovLMekInG4Tait4CRFtrauCE/noXONgW0FEG34JzjZ9xXIFlFuAK/A24KIgyJ5dryBznIixgKUh/CvDfpxMUZFuwgCngs7spILqBeclY8xAU7G/wAqrXE9DRGlMBAAAAAElFTkSuQmCC\"","module.exports = __webpack_public_path__ + \"static/media/sprite.3293dd6a.svg\";","\nconst api = \"https://reactnd-books-api.udacity.com\"\n\n\n// Generate a unique token for storing your bookshelf data on the backend server.\nlet token = localStorage.token\nif (!token)\n  token = localStorage.token = Math.random().toString(36).substr(-8)\n\nconst headers = {\n  'Accept': 'application/json',\n  'Authorization': token\n}\n\nexport const get = (bookId) =>\n  fetch(`${api}/books/${bookId}`, { headers })\n    .then(res => res.json())\n    .then(data => data.book)\n\nexport const getAll = () =>\n  fetch(`${api}/books`, { headers })\n    .then(res => res.json())\n    .then(data => data.books)\n\nexport const update = (book, shelf) => {\n  fetch(`${api}/books/${book.id}`, {\n    method: 'PUT',\n    headers: {\n      ...headers,\n      'Content-Type': 'application/json'\n    },\n    body: JSON.stringify({ shelf })\n  }).then(res => res.json())\n}\n\nexport const search = (query) =>\n  fetch(`${api}/search`, {\n    method: 'POST',\n    headers: {\n      ...headers,\n      'Content-Type': 'application/json'\n    },\n    body: JSON.stringify({ query })\n  }).then(res => res.json())\n    .then(data => data.books)\n","import React from 'react'\nimport styled from 'styled-components'\n\nconst HeaderWrapper = styled.div`\n    display: flex;\n    align-items: stretch;\n    justify-content: center;\n    padding: 10px 0;\n    margin-bottom: 4rem;\n    text-align: center;\n`\nconst Title = styled.h1`\n    padding: 1rem 2rem;\n    display: inline-block;\n    font-weight: 800;\n    font-size: 2rem;\n    border-bottom: 4px solid black;\n    margin: 0;\n    \n`\nexport default function Header(props) {\n    return(\n        <HeaderWrapper>\n            <Title>MyReads</Title>\n        </HeaderWrapper>\n    )\n}","import styled from 'styled-components'\n\nconst Title = styled.h2`\n    font-size: 2rem;\n    display: inline-block;\n    background: black;\n    padding: .5rem 2rem .5rem 6rem;\n    text-transform: capitalize;\n    border-bottom: 4px solid black;\n    font-weight: 700;\n    color: white;\n    border-radius: 80px;\n    margin-left: -4rem;\n    /* text-align: center; */\n    margin-top: 4rem;\n    margin-bottom: 4rem;\n    position: relative;\n    box-shadow: var(--box-shadow);\n\n    :before {\n        content: \"\";\n        height: calc(100% + 4px);\n        width: 3.5rem;\n        border-radius: 6px;\n        background: var(--gradient-main);\n        border: 4px solid black;\n        position: absolute;\n        top: 0;\n        left: 0;\n    }\n\n`\n\nexport default Title","import styled from 'styled-components'\n\nconst BookImg = styled.div`\n    background: #eee;\n    border-radius: 6px;\n    border: 4px solid black;\n    width: 128px;\n    height: 193px;\n    background-image: url(${props => props.imgURL});\n    background-size: cover;\n    background-position: center;\n\n`\nexport default BookImg\n","\nimport styled from 'styled-components'\nconst BookAuthor = styled.div`\n    color: #999;\n    font-size: 0.8em;\n`\n\nexport default BookAuthor\n\n","import styled from 'styled-components'\n\nexport default styled.div`\n    color: black;\n    font-weight: 800;\n    /* font-size: 0.8em; */\n    margin-top: 10px;\n`","import React from 'react'\nimport styled, {css} from 'styled-components'\nimport sprite from '../sprite.svg'\n\nconst IconWrapper = styled.div`\n    display: inline-block;\n    background: var(--gradient-main);\n    border-radius: 100%;\n    padding: ${({padding}) => padding || '11px'};\n    box-shadow: var(--box-shadow);\n    transition: all .2s;\n\n    &:hover {\n        transform: scale(1.05);\n    }\n\n\n    ${({border}) => border && css`\n        border: 4px solid black\n    `\n    }\n`\n\nconst Svg = styled.svg`\n    display: block;\n    fill: black;\n    height: ${({ size }) => size || '1rem'};\n    width: ${({ size }) => size || '1rem'};\n`\n\nexport default function Icon(props) {\n    const {name, padding, size, border} = props;\n    return(\n        <IconWrapper border={border} padding={padding}>\n            <Svg name={name}  size={size}>\n                <use href={sprite + \"#icon-\" + props.iconName} ></use>\n            </Svg>\n        </IconWrapper>\n    )\n}","import React from 'react'\nimport Icon from './Icon'\nimport styled from 'styled-components'\nimport * as BookAPI from '../BooksAPI'\n\n\n    const Changer = styled.div`\n        position: absolute;\n        right: -10px;\n        bottom: -10px;\n        width: 40px;\n        height: 40px;\n        \n        `\n    const Select = styled.select`\n        position: absolute;\n        top: 0;\n        left: 5px;\n        width: 100%;\n        height: 100%;\n        opacity: 0;\n        cursor: pointer;\n    `\n\n\nexport default function BookShelfChanger(props) {\n\n    const handleChange = async (e, book) => {\n        const shelf = e.target.value;\n        props.handleShelfChange(book, shelf)\n\n        const bookObj = await BookAPI.get(book.id)\n        BookAPI.update(bookObj, shelf)\n        \n    }\n\n    return(\n        <Changer>\n            <Icon \n                iconName=\"circle-down\"\n                padding='0'\n                size='2.4rem'\n            />\n            <Select value={props.data.shelf} onChange={(e) => handleChange(e, props.data)}>\n                <option  value=\"move\" disabled>Move to...</option>\n                <option  value=\"currentlyReading\">Currently Reading</option>\n                <option  value=\"wantToRead\">Want to Read</option>\n                <option  value=\"read\">Read</option>\n                <option  value=\"none\">None</option>\n            </Select>\n        </Changer>\n    )\n    \n}","import React from 'react'\nimport BookImg from './BookImg'\nimport BookAuthor from './BookAuthor'\nimport BookTitle from './BookTitle'\nimport BookShelfChanger from './BookShelfChanger'\nimport styled from 'styled-components'\n\nconst BookTop = styled.div`\n    position: relative;\n    height: 200px;\n    display: flex;\n    align-items: flex-end;\n`\n\nconst BookItem = styled.li`\n    padding: 10px 15px;\n    text-align: left;\n    width: 160px;\n`\n\nexport default function Book(props) {\n    const { data } = props\n    return(             \n            <BookItem>\n                <BookTop>\n                    <BookImg imgURL={data.imgURL}/>                        \n                    <BookShelfChanger handleShelfChange={props.handleShelfChange} data={data} />\n                </BookTop>\n                <BookTitle>{data.title}</BookTitle>\n                <BookAuthor>- {data.author}</BookAuthor>\n            </BookItem>\n    )\n}","import React from 'react'\nimport styled from 'styled-components'\nimport Book from './Book'\n\nconst Grid = styled.ol`\n    list-style-type: none;\n    padding: 0;\n    margin: 0;\n    display: flex;\n    justify-content: center;\n    flex-wrap: wrap;\n`\n\nexport default function Books(props) {\n    const { books, handleShelfChange } = props\n    return(\n        <div className=\"bookshelf-books\">\n            <Grid>\n                {/* Mapping through books */}\n                {Array.isArray(books) === true && (books.map((book, i) =>{\n                    return  (\n                        <Book \n                            data={book}\n                            key={book.id} \n                            handleShelfChange={handleShelfChange}\n                         />)}\n                    ))}\n            </Grid>\n        </div>\n    )\n}","import React from 'react'\nimport Title from './Title'\nimport Books from './Books'\nimport styled from 'styled-components'\n\nconst Bookshelf = styled.div`\npadding: 0 10px 20px;\n\n@media (min-width: 600px) {\n    padding: 0 20px 40px;\n}\n`\n\n\nexport default function Section(props) {\n\n\n    // We get from the api a camelcased string as the shelf's name\n    // so we have to convert it back to normal sentence\n    const indexOfUpperCase = (str) => {\n        let index = -1;\n        for(let i = 0; i < str.length; i++) {\n            if ((str[i] === str[i].toUpperCase()) && ( i !== 0 && str[i] !== \" \")) {\n                index = i;\n                break\n            }\n        }\n        return index\n    }\n\n    const camelToNormal = (str) => {\n        const index = indexOfUpperCase(str)\n        if (index === -1) {\n            return str\n        } else {\n            const letter = str[index]\n            const newStr = str.replace(letter, (\" \" + letter.toLowerCase()))\n            return camelToNormal(newStr);\n        }\n    }\n\n\n    const { category, books } = props;\n\n    return (\n\n        <Bookshelf>\n            <Title>{camelToNormal(category)}</Title>\n            <Books handleShelfChange={props.handleShelfChange} books={books} />\n        </Bookshelf>\n    )\n}\n\n","import React from 'react'\nimport Section from './Section'\n\nexport default function Sections(props) {\n    const { shelves } = props.data;\n\n    return(\n\n        <div className={props.clName && props.clName} >\n\n            {shelves.map((shelf, i) => (\n                <Section handleShelfChange={props.handleShelfChange} category={shelf.name} books={shelf.books} key={9999-i} />\n            ))}\n            \n        </div>\n\n    )\n}","import styled from 'styled-components'\nexport default styled.div`\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    font-size: 0.8rem;\n    color: gray;\n    height: 4rem;\n    margin-top: 3rem;\n    background-color: black;\n`\n","import styled from 'styled-components'\n\nexport default styled.input`\n    width: 100%;\n    height: 68px; /* back arrow icon's size */\n    display: flex;\n    justify-content: center;\n    background-color: #fff;\n    padding: .5rem 1rem;\n    padding-left: 1.5rem;\n    box-shadow: 0px 2px 15px -5px black;\n    border: 4px solid black;\n    border-radius: 6px;\n    font-size: inherit;\n    font-family: var(--font-header);\n    border-radius: 50px;\n\n`","import React, { Component } from 'react'\nimport FormInput from './FormInput'\nimport Section from './Section'\nimport styled from 'styled-components'\nimport { search } from '../BooksAPI'\nimport { Link } from 'react-router-dom'\nimport Icon from './Icon'\n\n\nexport default class SearchSection extends Component {\n\n    state = {\n        query: '',\n        books: []\n    }\n\n    syncStateAndInput = async (e) => {\n        this.setState({query: e.target.value})\n        return true;\n    }\n\n    handleChange = async (e) => {\n        await this.syncStateAndInput(e)\n        const query = await search(this.state.query)\n        this.setState({books: query});\n    }\n\n    formattedBooks = (books) => {\n        return  Array.isArray(books) \n            ?   books.map(book => this.getDataFromObj(book))\n            :   []\n        \n    } \n\n    getDataFromObj = this.props.getDataFromObj\n\n\n    Form = styled.form`\n        font-size: 2rem;\n        width: 100%;\n        margin: 0 auto;\n        display: flex;\n        align-items: center;\n        justify-content: center;\n        position: relative;\n        max-width: 600px;\n\n        > a {\n            display: flex;\n            align-items: center;\n            position: absolute;\n            top: 0;\n            right: 0;\n        }\n\n        @media(max-width: 600px) {\n            font-size: 1.7rem;\n        }\n\n    `\n\n    render() {\n        const Form = this.Form;\n        return (\n            <div>\n                <Form>\n                    <Link to='/'>\n                        <Icon border size='30px' padding='15px' iconName='arrow-left2'></Icon>\n                    </Link>\n                    <FormInput \n                        name=\"search\"\n                        type=\"text\" \n                        value={this.state.query}\n                        placeholder=\"Search\"\n                        onChange={(e) => this.handleChange(e)}\n                    />\n                </Form>\n                    <Section \n                        handleShelfChange={this.props.handleShelfChange}\n                        getDataFromObj={this.getDataFromObj} \n                        category=\"Results\" \n                        books={(this.formattedBooks(this.state.books))}\n                    />\n            </div>\n        )\n    }\n}","import React from 'react'\nimport {Route, Link} from 'react-router-dom'\nimport * as BooksAPI from './BooksAPI'\nimport styled from 'styled-components'\nimport bgImg from './img/blizzard.png'\n\n// ============ Components ==================\nimport Header from './Components/Header'\nimport Sections from './Components/Sections'\nimport Footer from './Components/Footer'\nimport SearchSection from './Components/SearchSection'\nimport Icon from './Components/Icon'\n\n\n// =========== CSS STYLES ================\nconst App = styled.div`\n  background-image: url(${bgImg}); \n  margin: 4rem auto;\n  max-width: 1200px;\n  border-radius: 6px;\n  overflow: hidden;\n  box-shadow: 2px 2px 10px 2px rgba(56, 56, 56, 0.342);\n  font-family: var(--font-text), sans-serif;\n  border: 4px solid black;\n  min-height: 100vh;\n  position: relative;\n  display: grid;\n  grid-template-rows: auto 1fr auto;\n  justify-items: stretch;\n\n  > * {\n    padding: 0 2rem;\n  }\n\n\n  @media(max-width: 1200px) {\n    width: 100%;\n    margin: 0;\n    border: 0;\n    border-radius: 0;\n  }\n`\n\n\n/*  The whole app */\nclass BooksApp extends React.Component {\n\n  state = {shelves: []}\n\n  containsKeyValue = (array, key, value) => {\n    let ans = false;\n    array.forEach(obj => {\n      if(obj[key] === value) {ans = true}\n    })\n    return ans;\n  }\n\n/**\n *    Filters the used data from API response.\n *    Handle cases when no image or author is provided. \n *    @param {Object} bookObj - a book object coming from the API descibing a single book\n */ \n  getDatafromObj = (bookObj) => {\n    return {\n      title: bookObj.title,\n      author: bookObj.authors ? bookObj.authors[0] : 'Unknown',\n      id: bookObj.id,\n      shelf: bookObj.shelf || 'none',\n      imgURL: bookObj.imageLinks \n              ? bookObj.imageLinks.thumbnail\n              : 'https://upload.wikimedia.org/wikipedia/en/6/60/No_Picture.jpg' \n    }\n  }\n  \n\n  // ================HELPER FUNCTIONS=================\n\n  moveInUI = (book, shelf) => {\n    shelf === 'none' && (shelf = null)\n    const currentShelf = this.findCurrentShelf(book)  //the self in the state\n    currentShelf\n      ? this.moveBookTo(book, shelf, currentShelf)\n      : this.addBookToShelf(book, shelf)\n\n  }\n\n  findCurrentShelf = (book) => {\n    const state = this.state\n    const currentShelf = state.shelves.filter(shelf => shelf.books.includes(book))[0]\n    return currentShelf \n            ? currentShelf.name\n            : null\n  }\n\n  moveBookTo = (book, shelf, currentShelf) => {\n      this.removeBookFromShelf(book, currentShelf)\n      shelf !== null && this.addBookToShelf(book, shelf)\n  }\n\n  removeBookFromShelf = (book, shelf) => {\n    let state = this.state\n    const shelfIndex = this.indexOfShelf(shelf)\n    const books = state.shelves[shelfIndex].books\n    const bookIndex = books.indexOf(book)\n    let newBooks = books\n    books.splice(bookIndex, 1)\n    state.shelves[shelfIndex].books = newBooks;\n    this.setState({state})\n  }\n\n  \n  addBookToShelf = (book, shelf) => {\n    \n    let state = this.state;\n    book.shelf = shelf;\n    const index = this.indexOfShelf(shelf)\n    state.shelves[index].books.push(book)\n    this.setState({state});\n  }\n\n  indexOfShelf = (shelf) => {\n    const shelves = this.state.shelves;\n    const thisSelf = shelves.filter(currShelf => currShelf.name === shelf)[0];\n    const index = shelves.indexOf(thisSelf)\n    return index\n  }\n\n\n// ==========MAIN FUNCTIONS=====================================\n\n  handleShelfChange = async (book, shelf) => {\n    console.log(this)\n    if (shelf === 'none') {\n\n    }\n    this.moveInUI(book, shelf)\n    // const bookObj = await BooksAPI.get(book.id)\n    // BooksAPI.update(bookObj, shelf)\n  }\n  \n\n\n   //get shelves data from API at start\n  syncData = async () => {\n    let shelves = []\n\n    const allData = await BooksAPI.getAll()\n\n    allData.forEach(data => {\n\n        const filteredData = this.getDatafromObj(data)\n        const shelf = data.shelf\n        const isNewShelf = !this.containsKeyValue(shelves, 'name', shelf)\n\n        let index;\n        if( isNewShelf) { index = shelves.length}\n        else {shelves.forEach((currShelf, i) => {\n          if(currShelf.name === shelf) {index = i}\n        })} \n        if (isNewShelf) {\n          shelves[index] = {\n            name: shelf,\n            books: [filteredData]\n          }\n        } else {\n          shelves[index].books.push(filteredData)\n        }\n    })\n    this.setState({shelves: shelves})\n  }\n  \n  \n  componentDidMount() {\n    this.syncData()    \n   } \n\n\n  render() {\n    return (\n      <App>\n        <Header>MyReads</Header>\n          <Route exact path='/' render={() => (\n            <div>\n              <Sections \n                handleShelfChange={this.handleShelfChange}\n                clName=\"list-books\" \n                data={this.state}\n                getData={this.getDatafromObj}  \n              />\n                <Link to='./search'>\n                  <Icon style={{marginBottom: '6rem'}} border padding=\"20px\" iconName=\"plus\" />\n                </Link> \n            </div>\n          )} \n          />\n          <Route exact path='/search' render={() => (\n            <SearchSection style={{justifySelf: 'center'}} handleShelfChange={this.handleShelfChange} getDataFromObj={this.getDatafromObj} />\n          )} \n          />\n        <Footer>Site made by Aron Berenyi</Footer>\n      </App>    \n\n\n    )\n  }\n}\n\nexport default BooksApp\n","import React from 'react'\nimport ReactDOM from 'react-dom'\nimport App from './App'\nimport { BrowserRouter } from 'react-router-dom'\nimport './index.css'\n\nReactDOM.render(\n<BrowserRouter>\n    <App />\n</BrowserRouter>\n, document.getElementById('root'))\n"],"sourceRoot":""}