(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{26:function(n,e){n.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABkAAAAZCAMAAADzN3VRAAAAJ1BMVEX+/Pv8+vf59/T8+vj7+fb6+Pb9/Pz9/Pv8/Pn8+/j8+/n////9/PpG/iirAAAAhElEQVR42oXQSxICIQxF0aiNfG72v14blDaSWExOMXuXSK1HuleOxHgN6EjRXB4RovLMekInG4Tait4CRFtrauCE/noXONgW0FEG34JzjZ9xXIFlFuAK/A24KIgyJ5dryBznIixgKUh/CvDfpxMUZFuwgCngs7spILqBeclY8xAU7G/wAqrXE9DRGlMBAAAAAElFTkSuQmCC"},30:function(n,e,t){n.exports=t.p+"static/media/sprite.3293dd6a.svg"},31:function(n,e,t){n.exports=t(46)},44:function(n,e,t){},46:function(n,e,t){"use strict";t.r(e);var r=t(1),a=t.n(r),o=t(25),i=t.n(o),c=t(4),u=t.n(c),l=t(7),s=t(13),f=t(14),d=t(16),h=t(15),m=t(17),p=t(11),b=t(2),g=t(0),v=t(8),x=t(22),k="https://reactnd-books-api.udacity.com",y=localStorage.token;y||(y=localStorage.token=Math.random().toString(36).substr(-8));var j={Accept:"application/json",Authorization:y},O=function(n){return fetch("".concat(k,"/books/").concat(n),{headers:j}).then(function(n){return n.json()}).then(function(n){return n.book})},E=function(){return fetch("".concat(k,"/books"),{headers:j}).then(function(n){return n.json()}).then(function(n){return n.books})},w=function(n,e){fetch("".concat(k,"/books/").concat(n.id),{method:"PUT",headers:Object(x.a)({},j,{"Content-Type":"application/json"}),body:JSON.stringify({shelf:e})}).then(function(n){return n.json()})},S=function(n){return fetch("".concat(k,"/search"),{method:"POST",headers:Object(x.a)({},j,{"Content-Type":"application/json"}),body:JSON.stringify({query:n})}).then(function(n){return n.json()}).then(function(n){return n.books})},A=t(3),C=t(26),z=t.n(C);function B(){var n=Object(b.a)(["\n    padding: 1rem 2rem;\n    display: inline-block;\n    font-weight: 800;\n    font-size: 2rem;\n    border-bottom: 4px solid black;\n    margin: 0;\n    \n"]);return B=function(){return n},n}function R(){var n=Object(b.a)(["\n    display: flex;\n    align-items: stretch;\n    justify-content: center;\n    padding: 10px 0;\n    margin-bottom: 4rem;\n    text-align: center;\n"]);return R=function(){return n},n}var D=A.b.div(R()),N=A.b.h1(B());function F(n){return a.a.createElement(D,null,a.a.createElement(N,null,"MyReads"))}function I(){var n=Object(b.a)(['\n    font-size: 2rem;\n    display: inline-block;\n    background: black;\n    padding: .5rem 2rem .5rem 6rem;\n    text-transform: capitalize;\n    border-bottom: 4px solid black;\n    font-weight: 700;\n    color: white;\n    border-radius: 80px;\n    margin-left: -4rem;\n    /* text-align: center; */\n    margin-top: 4rem;\n    margin-bottom: 4rem;\n    position: relative;\n    box-shadow: var(--box-shadow);\n\n    :before {\n        content: "";\n        height: calc(100% + 4px);\n        width: 3.5rem;\n        border-radius: 6px;\n        background: var(--gradient-main);\n        border: 4px solid black;\n        position: absolute;\n        top: 0;\n        left: 0;\n    }\n\n']);return I=function(){return n},n}var U=A.b.h2(I());function T(){var n=Object(b.a)(["\n    background: #eee;\n    border-radius: 6px;\n    border: 4px solid black;\n    width: 128px;\n    height: 193px;\n    background-image: url(",");\n    background-size: cover;\n    background-position: center;\n\n"]);return T=function(){return n},n}var M=A.b.div(T(),function(n){return n.imgURL});function L(){var n=Object(b.a)(["\n    color: #999;\n    font-size: 0.8em;\n"]);return L=function(){return n},n}var P=A.b.div(L());function X(){var n=Object(b.a)(["\n    color: black;\n    font-weight: 800;\n    /* font-size: 0.8em; */\n    margin-top: 10px;\n"]);return X=function(){return n},n}var q=A.b.div(X()),G=t(30),J=t.n(G);function K(){var n=Object(b.a)(["\n    display: block;\n    fill: black;\n    height: ",";\n    width: ",";\n"]);return K=function(){return n},n}function V(){var n=Object(b.a)(["\n        border: 4px solid black\n    "]);return V=function(){return n},n}function Q(){var n=Object(b.a)(["\n    display: inline-block;\n    background: var(--gradient-main);\n    border-radius: 100%;\n    padding: ",";\n    box-shadow: var(--box-shadow);\n    transition: all .2s;\n\n    &:hover {\n        transform: scale(1.05);\n    }\n\n\n    ","\n"]);return Q=function(){return n},n}var W=A.b.div(Q(),function(n){return n.padding||"11px"},function(n){return n.border&&Object(A.a)(V())}),Z=A.b.svg(K(),function(n){return n.size||"1rem"},function(n){return n.size||"1rem"});function H(n){var e=n.name,t=n.padding,r=n.size,o=n.border;return a.a.createElement(W,{border:o,padding:t},a.a.createElement(Z,{name:e,size:r},a.a.createElement("use",{href:J.a+"#icon-"+n.iconName})))}function Y(){var n=Object(b.a)(["\n        position: absolute;\n        top: 0;\n        left: 5px;\n        width: 100%;\n        height: 100%;\n        opacity: 0;\n        cursor: pointer;\n    "]);return Y=function(){return n},n}function _(){var n=Object(b.a)(["\n        position: absolute;\n        right: -10px;\n        bottom: -10px;\n        width: 40px;\n        height: 40px;\n        \n        "]);return _=function(){return n},n}var $=A.b.div(_()),nn=A.b.select(Y());function en(n){var e=function(){var e=Object(l.a)(u.a.mark(function e(t,r){var a,o;return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.target.value,n.handleShelfChange(r,a),e.next=4,O(r.id);case 4:o=e.sent,w(o,a);case 6:case"end":return e.stop()}},e,this)}));return function(n,t){return e.apply(this,arguments)}}();return a.a.createElement($,null,a.a.createElement(H,{iconName:"circle-down",padding:"0",size:"2.4rem"}),a.a.createElement(nn,{value:n.data.shelf,onChange:function(t){return e(t,n.data)}},a.a.createElement("option",{value:"move",disabled:!0},"Move to..."),a.a.createElement("option",{value:"currentlyReading"},"Currently Reading"),a.a.createElement("option",{value:"wantToRead"},"Want to Read"),a.a.createElement("option",{value:"read"},"Read"),a.a.createElement("option",{value:"none"},"None")))}function tn(){var n=Object(b.a)(["\n    padding: 10px 15px;\n    text-align: left;\n    width: 160px;\n"]);return tn=function(){return n},n}function rn(){var n=Object(b.a)(["\n    position: relative;\n    height: 200px;\n    display: flex;\n    align-items: flex-end;\n"]);return rn=function(){return n},n}var an=A.b.div(rn()),on=A.b.li(tn());function cn(n){var e=n.data;return a.a.createElement(on,null,a.a.createElement(an,null,a.a.createElement(M,{imgURL:e.imgURL}),a.a.createElement(en,{handleShelfChange:n.handleShelfChange,data:e})),a.a.createElement(q,null,e.title),a.a.createElement(P,null,"- ",e.author))}function un(){var n=Object(b.a)(["\n    list-style-type: none;\n    padding: 0;\n    margin: 0;\n    display: flex;\n    justify-content: center;\n    flex-wrap: wrap;\n"]);return un=function(){return n},n}var ln=A.b.ol(un());function sn(n){var e=n.books,t=n.handleShelfChange;return a.a.createElement("div",{className:"bookshelf-books"},a.a.createElement(ln,null,!0===Array.isArray(e)&&e.map(function(n,e){return a.a.createElement(cn,{data:n,key:n.id,handleShelfChange:t})})))}function fn(){var n=Object(b.a)(["\npadding: 0 10px 20px;\n\n@media (min-width: 600px) {\n    padding: 0 20px 40px;\n}\n"]);return fn=function(){return n},n}var dn=A.b.div(fn());function hn(n){var e=n.category,t=n.books;return a.a.createElement(dn,null,a.a.createElement(U,null,function n(e){var t=function(n){for(var e=-1,t=0;t<n.length;t++)if(n[t]===n[t].toUpperCase()&&0!==t&&" "!==n[t]){e=t;break}return e}(e);if(-1===t)return e;var r=e[t];return n(e.replace(r," "+r.toLowerCase()))}(e)),a.a.createElement(sn,{handleShelfChange:n.handleShelfChange,books:t}))}function mn(n){var e=n.data.shelves;return a.a.createElement("div",{className:n.clName&&n.clName},e.map(function(e,t){return a.a.createElement(hn,{handleShelfChange:n.handleShelfChange,category:e.name,books:e.books,key:9999-t})}))}function pn(){var n=Object(b.a)(["\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    font-size: 0.8rem;\n    color: gray;\n    height: 4rem;\n    margin-top: 3rem;\n    background-color: black;\n"]);return pn=function(){return n},n}var bn=A.b.div(pn());function gn(){var n=Object(b.a)(["\n    width: 100%;\n    height: 68px; /* back arrow icon's size */\n    display: flex;\n    justify-content: center;\n    background-color: #fff;\n    padding: .5rem 1rem;\n    padding-left: 1.5rem;\n    box-shadow: 0px 2px 15px -5px black;\n    border: 4px solid black;\n    border-radius: 6px;\n    font-size: inherit;\n    font-family: var(--font-header);\n    border-radius: 50px;\n\n"]);return gn=function(){return n},n}var vn=A.b.input(gn());function xn(){var n=Object(b.a)(["\n        font-size: 2rem;\n        width: 100%;\n        margin: 0 auto;\n        display: flex;\n        align-items: center;\n        justify-content: center;\n        position: relative;\n        max-width: 600px;\n\n        > a {\n            display: flex;\n            align-items: center;\n            position: absolute;\n            top: 0;\n            right: 0;\n        }\n\n        @media(max-width: 600px) {\n            font-size: 1.7rem;\n        }\n\n    "]);return xn=function(){return n},n}var kn=function(n){function e(){var n,t;Object(s.a)(this,e);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return(t=Object(d.a)(this,(n=Object(h.a)(e)).call.apply(n,[this].concat(a)))).state={query:"",books:[]},t.syncStateAndInput=function(){var n=Object(l.a)(u.a.mark(function n(e){return u.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return t.setState({query:e.target.value}),n.abrupt("return",!0);case 2:case"end":return n.stop()}},n,this)}));return function(e){return n.apply(this,arguments)}}(),t.handleChange=function(){var n=Object(l.a)(u.a.mark(function n(e){var r;return u.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,t.syncStateAndInput(e);case 2:return n.next=4,S(t.state.query);case 4:r=n.sent,t.setState({books:r});case 6:case"end":return n.stop()}},n,this)}));return function(e){return n.apply(this,arguments)}}(),t.formattedBooks=function(n){return Array.isArray(n)?n.map(function(n){return t.getDataFromObj(n)}):[]},t.getDataFromObj=t.props.getDataFromObj,t.Form=A.b.form(xn()),t}return Object(m.a)(e,n),Object(f.a)(e,[{key:"render",value:function(){var n=this,e=this.Form;return a.a.createElement("div",null,a.a.createElement(e,null,a.a.createElement(v.b,{to:"/"},a.a.createElement(H,{border:!0,size:"30px",padding:"15px",iconName:"arrow-left2"})),a.a.createElement(vn,{name:"search",type:"text",value:this.state.query,placeholder:"Search",onChange:function(e){return n.handleChange(e)}})),a.a.createElement(hn,{handleShelfChange:this.props.handleShelfChange,getDataFromObj:this.getDataFromObj,category:"Results",books:this.formattedBooks(this.state.books)}))}}]),e}(r.Component);function yn(){var n=Object(b.a)(["\n  background-image: url(","); \n  margin: 4rem auto;\n  max-width: 1200px;\n  border-radius: 6px;\n  overflow: hidden;\n  box-shadow: 2px 2px 10px 2px rgba(56, 56, 56, 0.342);\n  font-family: var(--font-text), sans-serif;\n  border: 4px solid black;\n  min-height: 100vh;\n  position: relative;\n  display: grid;\n  grid-template-rows: auto 1fr auto;\n  justify-items: stretch;\n\n  > * {\n    padding: 0 2rem;\n  }\n\n\n  @media(max-width: 1200px) {\n    width: 100%;\n    margin: 0;\n    border: 0;\n    border-radius: 0;\n  }\n"]);return yn=function(){return n},n}var jn=A.b.div(yn(),z.a),On=function(n){function e(){var n,t;Object(s.a)(this,e);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return(t=Object(d.a)(this,(n=Object(h.a)(e)).call.apply(n,[this].concat(a)))).state={shelves:[]},t.containsKeyValue=function(n,e,t){var r=!1;return n.forEach(function(n){n[e]===t&&(r=!0)}),r},t.getDatafromObj=function(n){return{title:n.title,author:n.authors?n.authors[0]:"Unknown",id:n.id,shelf:n.shelf||"none",imgURL:n.imageLinks?n.imageLinks.thumbnail:"https://upload.wikimedia.org/wikipedia/en/6/60/No_Picture.jpg"}},t.moveInUI=function(n,e){"none"===e&&(e=null);var r=t.findCurrentShelf(n);r?t.moveBookTo(n,e,r):t.addBookToShelf(n,e)},t.findCurrentShelf=function(n){var e=t.state.shelves.filter(function(e){return e.books.includes(n)})[0];return e?e.name:null},t.moveBookTo=function(n,e,r){t.removeBookFromShelf(n,r),null!==e&&t.addBookToShelf(n,e)},t.removeBookFromShelf=function(n,e){var r=t.state,a=t.indexOfShelf(e),o=r.shelves[a].books,i=o.indexOf(n),c=o;o.splice(i,1),r.shelves[a].books=c,t.setState({state:r})},t.addBookToShelf=function(n,e){var r=t.state;n.shelf=e;var a=t.indexOfShelf(e);r.shelves[a].books.push(n),t.setState({state:r})},t.indexOfShelf=function(n){var e=t.state.shelves,r=e.filter(function(e){return e.name===n})[0];return e.indexOf(r)},t.handleShelfChange=function(){var n=Object(l.a)(u.a.mark(function n(e,r){return u.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:console.log(Object(p.a)(Object(p.a)(t))),t.moveInUI(e,r);case 3:case"end":return n.stop()}},n,this)}));return function(e,t){return n.apply(this,arguments)}}(),t.syncData=Object(l.a)(u.a.mark(function n(){var e;return u.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return e=[],n.next=3,E();case 3:n.sent.forEach(function(n){var r,a=t.getDatafromObj(n),o=n.shelf,i=!t.containsKeyValue(e,"name",o);i?r=e.length:e.forEach(function(n,e){n.name===o&&(r=e)}),i?e[r]={name:o,books:[a]}:e[r].books.push(a)}),t.setState({shelves:e});case 6:case"end":return n.stop()}},n,this)})),t}return Object(m.a)(e,n),Object(f.a)(e,[{key:"componentDidMount",value:function(){this.syncData()}},{key:"render",value:function(){var n=this;return a.a.createElement(jn,null,a.a.createElement(F,null,"MyReads"),a.a.createElement(g.a,{exact:!0,path:"/",render:function(){return a.a.createElement("div",null,a.a.createElement(mn,{handleShelfChange:n.handleShelfChange,clName:"list-books",data:n.state,getData:n.getDatafromObj}),a.a.createElement(v.b,{to:"./search"},a.a.createElement(H,{style:{marginBottom:"6rem"},border:!0,padding:"20px",iconName:"plus"})))}}),a.a.createElement(g.a,{exact:!0,path:"/search",render:function(){return a.a.createElement(kn,{style:{justifySelf:"center"},handleShelfChange:n.handleShelfChange,getDataFromObj:n.getDatafromObj})}}),a.a.createElement(bn,null,"Site made by Aron Berenyi"))}}]),e}(a.a.Component);t(44);i.a.render(a.a.createElement(v.a,null,a.a.createElement(On,null)),document.getElementById("root"))}},[[31,2,1]]]);
//# sourceMappingURL=main.b57dfb2e.chunk.js.map